{% extends 'base.html.twig' %}

{% block title %}Fiche utilsateur - {{parent()}}{% endblock %}

{% block body %}
{% include "partials/_admin-aside.html.twig" %}
<div class="admin w-75 my-5">
    <h1 class='text-center'>Utilisateur : {{ user.firstName }} {{user.lastName}}</h1>
<div class="my-3 col-lg-6 col-10 mx-5 mx-md-auto">

    <table id ="mode" class="table table-striped text-center mw-50">
    <thead>
    <tr>
      <th scope="col">Propriété</th>
      <th scope="col">Valeur</th>
    </tr>
    </thead>
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ user.id }}</td>
            </tr>
            <tr>
                <th>Nom</th>
                <td>{{ user.lastName }}</td>
            </tr>
            <tr>
                <th>Prénom</th>
                <td>{{ user.firstName }}</td>
            </tr>
            <tr>
            <th>Avatar</th>
            <td>
                <div ><img class="header-icons"  src="{{ asset('assets/uploads/' ~ user.picture ) }}"  alt="avatar de l'utilisateur"/></div>
            </td>
            </tr>
            <tr>
                <th>Commune</th>
                <td>{{ user.city }}</td>
            </tr>
            <tr>
                <th>Code postal</th>
                <td>{{ user.zipCode }}</td>
            </tr>
            <tr>
                <th>Téléphone</th>
                <td>{{ user.phoneNumber }}</td>
            </tr>
            <tr>
                <th>E-mail</th>
                <td>{{ user.email }}</td>
            </tr>
            <tr>
                <th>Mes services</th>
                <td>
                <ul class="list-style">
                {% for service in user.services %}
                    <li>
                    {{ service.name }}
                    </li>
                {% endfor %}
                </ul>
                    </td>
            </tr>
            <tr>
                <th>Roles</th>
                <td>{{ user.roles|json_encode() }}</td>
            </tr>
            <tr>
                <th>Statut</th>
                <td>{{ user.status }}</td>
            </tr>
            <tr>
                <th>Créé le</th>
                <td>{{ user.createdAt ? user.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Modifié le</th>
                <td>{{ user.updatedAt ? user.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>
<div class="d-flex flex-column justify-content-center flex-md-row  mb-5">
    <a role="button" class="btn btn-success text-center mb-3 mx-auto" href="{{ path('admin_user_index') }}">Liste des utilisateurs</a>
    {{ include('admin/user/_delete_form.html.twig') }}
    <a role="button" class="btn btn-success text-center mb-3 mx-auto" href="{{ path('admin_user_edit', {'id': user.id}) }}">Modifier</a>
</div>
</div>

{% endblock %}
